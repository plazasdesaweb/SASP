@model Suma2Lealtad.Models.AfiliadoSuma

@{
    ViewBag.Title = "SuspenderTarjeta";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="form-group">

    <div class="panel panel-default">

        <div class="panel-heading clearfix panel-gradient">
            <h3 class="panel-title">Afiliado / Suspender Tarjeta</h3>
        </div>

        <div class="panel-body">

            <form action="@Url.Action("SuspenderTarjeta", "AfiliadoSuma", new { id = @Model.id })" name="form" method="post"  onsubmit="return verificarObservaciones();">

                <div class="editor-label col-md-4 control-label">
                    Tipo de Afiliado :
                </div>

                <div class="editor-field col-md-6">
                    @Html.TextBoxFor(model => model.type, new { @class = "form-control", @readonly = "true" })
                </div>

                <div class="editor-label col-md-4 control-label">
                    Nombre del Afiliado :
                </div>
                <div class="editor-form col-md-6">
                    @Html.TextBox("name", @Model.name + " " + @Model.lastname1, new { @class = "form-control", @readonly = "true" })
                </div>

                <div class="editor-label col-md-4 control-label">
                    Número de Documento/Cédula :
                </div>
                <div class="editor-form col-md-6">
                    @Html.TextBox("docnumber", @Model.docnumber, new { @class = "form-control", @readonly = "true" })
                </div>

                <div class="editor-label col-md-4 control-label">
                    Número de Tarjeta :
                </div>
                <div class="editor-form col-md-6">
                    @Html.TextBox("pan", @Model.pan, new { @class = "form-control", @readonly = "true" })
                </div>

                <div class="editor-label col-md-4 control-label">
                    Estatus de Tarjeta :
                </div>
                <div class="editor-form col-md-6">
                    @Html.TextBox("estatustarjeta", @Model.estatustarjeta, new { @class = "form-control", @readonly = "true" })
                </div>

                <div class="col-md-12 col-btn">
                    <div class="text-center">
                        <p class="text-danger">
                            Advertencia: Esta operación suspenderá temporalmente la tarjeta actual.
                        </p>
                    </div>
                    <div class="text-center">
                        <div class="editor-label col-md-4 control-label">
                            * Observaciones :
                        </div>
                        <div class="editor-form col-md-6">
                            @Html.TextBox("observaciones", @Model.comments, new { @class = "form-control", @maxlenght = "120" })
                        </div>
                        <div class="editor-form col-md-11">    
                            <span id="field1"></span>
                        </div>
                    </div>
                    <div class="text-center">
                        <div class="editor-label col-md-4 control-label"></div>
                        <div class="editor-field col-md-6">
                            <br />
                        </div>
                        <div class="editor-label col-md-7 control-label">
                            <input type="submit" class="btn btn-success btn-md" value="Suspender" />
                        </div>
                    </div>
                </div>

                <!-- buttons -->
                <div class="col-md-12 col-tabla-btn">
                    <div class="pull-right">
                        <a href="@Url.Action("FilterReview", "AfiliadoSuma")" class="btn btn-danger btn-md">Regresar</a>
                    </div>
                </div>
                <!--// buttons -->
            </form>

        </div>

    </div>
    <!-- panel-body -->

</div>
<!-- panel panel-default -->

<script>
    function verificarObservaciones() {
        LimpiarSpanMessage('field1');
        var observaciones = document.getElementById("observaciones").value;
        if (observaciones.length == 0) {
            spanMessage('field1', '* Debe incluir Observaciones.');
            document.getElementById("observaciones").focus();
            return false;
        }
        return true;
    }

    function spanMessage(idelemento, mensaje) {
        var span = document.getElementById(idelemento);
        while (span.firstChild) {
            span.removeChild(span.firstChild);
        }
        span.appendChild(document.createTextNode(mensaje));
    }

    function LimpiarSpanMessage(idelemento) {
        var span = document.getElementById(idelemento);
        while (span.firstChild) {
            span.removeChild(span.firstChild);
        }
    }
</script>